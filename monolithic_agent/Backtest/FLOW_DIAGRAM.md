# Enhanced Backtesting Flow Diagram

## Overview: Sequential Data Processing with Logging

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ENHANCED BACKTESTING FLOW                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. INITIALIZATION
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Load Data        â”‚
   â”‚ with Indicators  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Initialize       â”‚
   â”‚ - Broker         â”‚
   â”‚ - Strategy       â”‚
   â”‚ - PatternLogger  â”‚
   â”‚ - SignalLogger   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼

2. SEQUENTIAL PROCESSING (Row by Row)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  FOR EACH ROW in DataFrame:                                     â”‚
   â”‚                                                                  â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚  â”‚ ROW N: timestamp, OHLCV, indicators                       â”‚ â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â”‚                          â”‚                                       â”‚
   â”‚                          â–¼                                       â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚  â”‚ STRATEGY.ON_BAR()                                         â”‚ â”‚
   â”‚  â”‚                                                           â”‚ â”‚
   â”‚  â”‚  Step 1: Extract market_data & indicators                â”‚ â”‚
   â”‚  â”‚          â†“                                                â”‚ â”‚
   â”‚  â”‚  Step 2: Check Entry Pattern                             â”‚ â”‚
   â”‚  â”‚          â”œâ”€â†’ LOG PATTERN (True/False) â”€â†’ pattern_log.csv â”‚ â”‚
   â”‚  â”‚          â”‚                                                â”‚ â”‚
   â”‚  â”‚          â””â”€â†’ If True & not in position:                  â”‚ â”‚
   â”‚  â”‚               â”œâ”€â†’ LOG SIGNAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ signal_log.csv  â”‚ â”‚
   â”‚  â”‚               â””â”€â†’ Submit to Broker                       â”‚ â”‚
   â”‚  â”‚                                                           â”‚ â”‚
   â”‚  â”‚  Step 3: Check Exit Pattern (if in position)             â”‚ â”‚
   â”‚  â”‚          â”œâ”€â†’ LOG PATTERN (True/False) â”€â†’ pattern_log.csv â”‚ â”‚
   â”‚  â”‚          â”‚                                                â”‚ â”‚
   â”‚  â”‚          â””â”€â†’ If True:                                    â”‚ â”‚
   â”‚  â”‚               â”œâ”€â†’ LOG SIGNAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ signal_log.csv  â”‚ â”‚
   â”‚  â”‚               â””â”€â†’ Submit to Broker                       â”‚ â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â”‚                          â”‚                                       â”‚
   â”‚                          â–¼                                       â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚  â”‚ BROKER.STEP_TO()                                          â”‚ â”‚
   â”‚  â”‚                                                           â”‚ â”‚
   â”‚  â”‚  - Process pending signals                                â”‚ â”‚
   â”‚  â”‚  - Execute trades                                         â”‚ â”‚
   â”‚  â”‚  - Update positions                                       â”‚ â”‚
   â”‚  â”‚  - Update account state                                   â”‚ â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â”‚                          â”‚                                       â”‚
   â”‚                          â–¼                                       â”‚
   â”‚                    NEXT ROW                                      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼

3. FINALIZATION
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Strategy.        â”‚
   â”‚ finalize()       â”‚
   â”‚                  â”‚
   â”‚ - Close Pattern  â”‚
   â”‚   Logger         â”‚
   â”‚ - Close Signal   â”‚
   â”‚   Logger         â”‚
   â”‚ - Print          â”‚
   â”‚   Summaries      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Broker.          â”‚
   â”‚ compute_metrics()â”‚
   â”‚                  â”‚
   â”‚ - Calculate PnL  â”‚
   â”‚ - Win Rate       â”‚
   â”‚ - Drawdown       â”‚
   â”‚ - Sharpe Ratio   â”‚
   â”‚ - etc.           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼

4. OUTPUT FILES
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ signals/                                                      â”‚
   â”‚                                                              â”‚
   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚ â”‚ {strategy_id}_patterns_{timestamp}.csv                  â”‚ â”‚
   â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚
   â”‚ â”‚ Every row analyzed with True/False pattern detection    â”‚ â”‚
   â”‚ â”‚                                                         â”‚ â”‚
   â”‚ â”‚ timestamp | step_id | pattern_condition | pattern_foundâ”‚ â”‚
   â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚
   â”‚ â”‚ 10:00     | entry   | EMA_30 > EMA_50   | False        â”‚ â”‚
   â”‚ â”‚ 10:01     | entry   | EMA_30 > EMA_50   | False        â”‚ â”‚
   â”‚ â”‚ 10:02     | entry   | EMA_30 > EMA_50   | TRUE âœ“       â”‚ â”‚
   â”‚ â”‚ 10:03     | exit    | Stop Loss Hit     | False        â”‚ â”‚
   â”‚ â”‚ ...       | ...     | ...               | ...          â”‚ â”‚
   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â”‚                                                              â”‚
   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚ â”‚ {strategy_id}_signals_{timestamp}.csv                   â”‚ â”‚
   â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚
   â”‚ â”‚ All trading signals with full context                   â”‚ â”‚
   â”‚ â”‚                                                         â”‚ â”‚
   â”‚ â”‚ signal_id | timestamp | side | action | size | price   â”‚ â”‚
   â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚
   â”‚ â”‚ SIG_001   | 10:02     | BUY  | ENTRY  | 100  | 151.00 â”‚ â”‚
   â”‚ â”‚ SIG_002   | 14:30     | SELL | EXIT   | 100  | 152.50 â”‚ â”‚
   â”‚ â”‚ ...       | ...       | ...  | ...    | ...  | ...    â”‚ â”‚
   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â”‚                                                              â”‚
   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚ â”‚ {strategy_id}_signals_{timestamp}.json                  â”‚ â”‚
   â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚
   â”‚ â”‚ Full signal details with nested objects                 â”‚ â”‚
   â”‚ â”‚ - Market data at signal time                            â”‚ â”‚
   â”‚ â”‚ - Indicator values at signal time                       â”‚ â”‚
   â”‚ â”‚ - Strategy state at signal time                         â”‚ â”‚
   â”‚ â”‚ - For programmatic signal replay                        â”‚ â”‚
   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key Concepts

### 1. Every Row is Logged
```
Data Row 1 â†’ Check Pattern â†’ Log (False) â†’ No Signal
Data Row 2 â†’ Check Pattern â†’ Log (False) â†’ No Signal
Data Row 3 â†’ Check Pattern â†’ Log (TRUE) â†’ Generate Signal â†’ Log Signal
Data Row 4 â†’ Check Pattern â†’ Log (False) â†’ No Signal
...
```

### 2. Pattern vs Signal Logs

**Pattern Logs** = Every row analyzed
- Shows ALL pattern checks (True/False)
- Helps debug: "Why didn't my strategy enter here?"
- Shows: "Pattern was checked but not found"

**Signal Logs** = Only when signals generated
- Shows ACTUAL trading signals
- Used for trade simulation
- Contains full context for replay

### 3. Data Flow

```
Historical Data (CSV/API)
         â†“
Load with Indicators (EMA, RSI, etc.)
         â†“
DataFrame with OHLCV + Indicators
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Row-by-Row Processing   â”‚
â”‚                         â”‚
â”‚ For each row:           â”‚
â”‚   1. Extract data       â”‚
â”‚   2. Check patterns â”€â”€â”€â”€â†’ LOG (True/False)
â”‚   3. If pattern found   â”‚
â”‚      Generate signal â”€â”€â”€â†’ LOG (Signal Details)
â”‚   4. Execute with brokerâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
Pattern Logs + Signal Logs + Trades + Metrics
```

## Logging Decision Tree

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Strategy.on_bar()   â”‚
â”‚  (called for row N)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Extract     â”‚
    â”‚ market_data â”‚
    â”‚ & indicatorsâ”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Check Entry Patternâ”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â†’ LOG PATTERN â”€â”€â†’ pattern_log.csv
           â”‚    (True or False)
           â”‚
           â–¼
    Pattern Found?
           â”‚
       â”Œâ”€â”€â”€â”´â”€â”€â”€â”
       â”‚       â”‚
      Yes      No
       â”‚       â”‚
       â”‚       â””â”€â†’ Continue
       â”‚
       â–¼
    Not in Position?
       â”‚
   â”Œâ”€â”€â”€â”´â”€â”€â”€â”
   â”‚       â”‚
  Yes      No
   â”‚       â”‚
   â”‚       â””â”€â†’ Continue
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Generate Signal  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. LOG SIGNAL â”€â”€â”€â†’ signal_log.csv
â”‚                     (Full context)
â”‚ 2. Submit to     â”‚
â”‚    Broker        â”‚
â”‚ 3. Update State  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Summary Report Example

```
======================================================================
BACKTEST RESULTS
======================================================================
Final Equity: $102,500.00
Net Profit: $2,500.00
Total Trades: 15
Win Rate: 60.0%

======================================================================
PATTERN DETECTION SUMMARY
======================================================================
Total Rows Analyzed: 1,260           â† Every row logged
Patterns Found: 45                    â† True count
Patterns Not Found: 1,215             â† False count
Detection Rate: 3.57%                 â† True / Total

ğŸ“ Pattern Log: signals/strategy_001_patterns_20251022.csv

======================================================================
SIGNAL GENERATION SUMMARY
======================================================================
Total Signals: 30                     â† All signals logged
Entry Signals: 15                     â† BUY signals
Exit Signals: 15                      â† SELL signals
Market Orders: 30
Limit Orders: 0
Stop Orders: 0

ğŸ“ Signal CSV: signals/strategy_001_signals_20251022.csv
ğŸ“ Signal JSON: signals/strategy_001_signals_20251022.json

======================================================================
```

## Use Cases

### 1. Debugging Strategy Logic
```
"Why didn't my strategy enter at time X?"

â†’ Check pattern_log.csv at time X
â†’ See pattern_found = False
â†’ Check indicator_values column
â†’ Identify: EMA_30 was 149.5, EMA_50 was 150.2
â†’ Pattern condition not met!
```

### 2. Signal Verification
```
"Did my strategy generate the right signals?"

â†’ Check signal_log.csv
â†’ See all signals with reasons
â†’ Verify: Signal at 10:02 because "EMA crossover"
â†’ Confirm: Indicator values support the decision
```

### 3. Trade Simulation
```
"Can I test different execution strategies?"

â†’ Load signal_log.json
â†’ Replay signals with different parameters
â†’ Test: Market vs Limit orders
â†’ Test: Different position sizing
â†’ Compare results
```

### 4. Performance Attribution
```
"Which patterns generated profitable trades?"

â†’ Join pattern_log with signal_log with trades
â†’ Analyze: Which pattern conditions led to wins
â†’ Optimize: Adjust pattern thresholds
â†’ Improve: Strategy performance
```
