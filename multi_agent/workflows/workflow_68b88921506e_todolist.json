{
  "todo_list_id": "workflow_68b88921506e",
  "workflow_name": "CLI Request 20251108_162041",
  "created_at": "2025-11-08T13:20:41.538919Z",
  "created_by": "planner_service",
  "metadata": {
    "user_request": "Create RSI strategy: buy when RSI < 30, sell when RSI > 70. Stop loss should be set 10 pips above/below entry and takeprofit should 40 pips above entry",
    "planner_version": "1.0.0",
    "auto_fix_mode": true,
    "max_branch_depth": 2,
    "max_debug_attempts": 3
  },
  "items": [
    {
      "id": "task_data_loading",
      "title": "Data Loading Integration",
      "description": "Implement fetch_and_prepare_data to load OHLCV data for RSI strategy",
      "agent_role": "coder",
      "priority": 1,
      "dependencies": [],
      "max_retries": 3,
      "timeout_seconds": 300,
      "acceptance_criteria": {
        "tests": [
          {
            "cmd": "pytest tests/test_adapter.py --json-report",
            "timeout_seconds": 60,
            "fixture": "fixtures/sample_aapl.csv"
          }
        ],
        "expected_artifacts": [
          "backtesting_adapter.py",
          "fixtures/sample_aapl.csv"
        ]
      },
      "input_artifacts": [],
      "output_artifacts": [
        "backtesting_adapter.py",
        "fixtures/sample_aapl.csv"
      ],
      "failure_routing": {
        "implementation_bug": "coder",
        "spec_mismatch": "architect",
        "timeout": "tester",
        "missing_dependency": "coder",
        "flaky_test": "tester"
      }
    },
    {
      "id": "task_indicators",
      "title": "Indicator Loading - RSI",
      "description": "Implement compute_rsi function for the RSI strategy",
      "agent_role": "architect",
      "priority": 2,
      "dependencies": [
        "task_data_loading"
      ],
      "max_retries": 3,
      "timeout_seconds": 300,
      "acceptance_criteria": {
        "tests": [
          {
            "cmd": "pytest tests/test_indicators.py --json-report",
            "timeout_seconds": 60,
            "fixture": "fixtures/rsi_expected.json"
          }
        ],
        "expected_artifacts": [
          "indicators/rsi.py",
          "fixtures/rsi_expected.json"
        ]
      },
      "input_artifacts": [
        "backtesting_adapter.py",
        "fixtures/sample_aapl.csv"
      ],
      "output_artifacts": [
        "indicators/rsi.py",
        "fixtures/rsi_expected.json"
      ],
      "failure_routing": {
        "implementation_bug": "coder",
        "spec_mismatch": "architect",
        "timeout": "tester",
        "missing_dependency": "coder",
        "flaky_test": "tester"
      }
    },
    {
      "id": "task_entry",
      "title": "Entry Conditions - RSI < 30",
      "description": "Implement should_enter for RSI oversold signal (RSI < 30)",
      "agent_role": "coder",
      "priority": 3,
      "dependencies": [
        "task_indicators"
      ],
      "max_retries": 3,
      "timeout_seconds": 300,
      "acceptance_criteria": {
        "tests": [
          {
            "cmd": "pytest tests/test_entry.py --json-report",
            "timeout_seconds": 60,
            "fixture": "fixtures/entry_scenarios.json"
          }
        ],
        "expected_artifacts": [
          "Backtest/codes/ai_strategy_entry.py"
        ]
      },
      "input_artifacts": [
        "indicators/rsi.py",
        "fixtures/rsi_expected.json"
      ],
      "output_artifacts": [
        "Backtest/codes/ai_strategy_entry.py",
        "fixtures/entry_scenarios.json"
      ],
      "failure_routing": {
        "implementation_bug": "coder",
        "spec_mismatch": "architect",
        "timeout": "tester",
        "missing_dependency": "coder",
        "flaky_test": "tester"
      }
    },
    {
      "id": "task_exit",
      "title": "Exit Conditions - RSI > 70 + SL/TP",
      "description": "Implement should_exit for RSI overbought (RSI > 70) and stop loss/take profit",
      "agent_role": "coder",
      "priority": 4,
      "dependencies": [
        "task_entry"
      ],
      "max_retries": 3,
      "timeout_seconds": 300,
      "acceptance_criteria": {
        "tests": [
          {
            "cmd": "pytest tests/test_exit.py --json-report",
            "timeout_seconds": 60,
            "fixture": "fixtures/exit_scenarios.json"
          }
        ],
        "expected_artifacts": [
          "Backtest/codes/ai_strategy_exit.py"
        ]
      },
      "input_artifacts": [
        "Backtest/codes/ai_strategy_entry.py",
        "fixtures/entry_scenarios.json"
      ],
      "output_artifacts": [
        "Backtest/codes/ai_strategy_exit.py",
        "fixtures/exit_scenarios.json"
      ],
      "failure_routing": {
        "implementation_bug": "coder",
        "spec_mismatch": "architect",
        "timeout": "tester",
        "missing_dependency": "coder",
        "flaky_test": "tester"
      }
    }
  ]
}